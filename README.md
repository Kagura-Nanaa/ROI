Surprise App (éšæœºé˜…è¯»å™¨)

æ‰€æœ‰ä»£ç å‡ç”±Gemini 3 Proç”Ÿæˆï¼ŒåŒ…æ‹¬æ­¤README.mdï¼ˆä¸åŒ…æ‹¬è¿™ä¸€è¡Œï¼‰ï¼Œè¿™ä¸ªappåªæ˜¯æˆ‘è‡ªå·±ä½¿ç”¨ï¼Œæ‰€ä»¥bugå’Œæ–°åŠŸèƒ½å°±å®Œå…¨éšç¼˜äº†ï¼Œèƒ½ç”¨å°±è¡Œ

Surprise æ˜¯ä¸€æ¬¾ä¸“ä¸ºæ¼«ç”»çˆ±å¥½è€…å’Œæœ¬åœ°è§†é¢‘æ”¶è—è€…è®¾è®¡çš„ Android åº”ç”¨ç¨‹åºã€‚å®ƒæ—¨åœ¨è§£å†³â€œä¸çŸ¥é“ä¸‹ä¸€æœ¬çœ‹ä»€ä¹ˆâ€çš„é€‰æ‹©å›°éš¾ç—‡ï¼Œé€šè¿‡æ™ºèƒ½éšæœºç®—æ³•ï¼Œä»ä½ åºå¤§çš„æœ¬åœ°æ”¶è—åº“ä¸­â€œæŠ½å–â€ä¸€ä»½æƒŠå–œã€‚

è¯¥é¡¹ç›®å®Œå…¨åŸºäº Kotlin å¼€å‘ï¼Œé‡‡ç”¨äº†æœ€æ–°çš„ Material You (Material 3) è®¾è®¡è¯­è¨€ï¼Œç•Œé¢ç°ä»£ã€ç®€æ´ä¸”ç¾è§‚ã€‚


ğŸŒŸ æ ¸å¿ƒåŠŸèƒ½ (Core Features)

1. æ™ºèƒ½éšæœºæµè§ˆ

ä¸€é”®éšæœºï¼šåªéœ€ç‚¹å‡»æŒ‰é’®ï¼ŒApp ä¼šè‡ªåŠ¨æ‰«ææŒ‡å®šæ ¹ç›®å½•ä¸‹çš„æ‰€æœ‰å­æ–‡ä»¶å¤¹ï¼Œéšæœºé€‰ä¸­ä¸€ä¸ªï¼Œå¹¶æ‰“å¼€å…¶ä¸­çš„æ–‡ä»¶ã€‚

å¤šæ ¼å¼æ”¯æŒï¼šæ™ºèƒ½è¯†åˆ«å¹¶æ‰“å¼€å›¾ç‰‡æ–‡ä»¶ï¼ˆjpg, png, webp, bmpï¼‰å’Œè§†é¢‘æ–‡ä»¶ï¼ˆmp4, mkv, avi, movï¼‰ã€‚

æ— ç¼å¯¹æ¥ï¼šè‡ªåŠ¨è°ƒç”¨ä½ æœ€å–œæ¬¢çš„å¤–éƒ¨é˜…è¯»å™¨ï¼ˆå¦‚ Perfect Viewerï¼‰æˆ–æ’­æ”¾å™¨ï¼ˆå¦‚ MX Playerï¼‰æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶æ”¯æŒç¿»é¡µæµè§ˆï¼ˆé€šè¿‡è·¯å¾„è§£ææŠ€æœ¯å®ç°ï¼‰ã€‚

![IMG_20251123_182336_1](https://github.com/user-attachments/assets/f1b274bf-c266-4bec-b655-523b05ef7b1e)


2. ä¾¿æ·çš„è·¯å¾„ç®¡ç†

å¤šä¹¦æ¶æ”¯æŒï¼šä½ å¯ä»¥æ·»åŠ å¤šä¸ªä¸åŒçš„æ ¹ç›®å½•ï¼ˆä¾‹å¦‚â€œå·²å®Œç»“æ¼«ç”»â€ã€â€œè¿è½½ä¸­â€ã€â€œè§†é¢‘æ”¶è—â€ï¼‰ï¼Œå®ƒä»¬ä¼šä»¥ Chipï¼ˆæ ‡ç­¾æŒ‰é’®ï¼‰ çš„å½¢å¼æ˜¾ç¤ºåœ¨ä¸»é¡µã€‚

è‡ªå®šä¹‰åˆ«åï¼šç³»ç»Ÿè·¯å¾„å¤ªé•¿éš¾è®°ï¼Ÿä½ å¯ä»¥ä¸ºæ¯ä¸ªæ–‡ä»¶å¤¹è®¾ç½®ä¸€ä¸ªç®€çŸ­çš„åˆ«åï¼ˆå¦‚â€œæˆ‘çš„æœ€çˆ±â€ï¼‰ã€‚

çµæ´»ç¼–è¾‘ï¼šé•¿æŒ‰æ ‡ç­¾å³å¯è¿›è¡Œç®¡ç†æ“ä½œï¼Œæ”¯æŒé‡å‘½åã€æ›´æ”¹åº•å±‚è·¯å¾„ï¼ˆä¿æŒåˆ«åä¸å˜ï¼‰æˆ–ç§»é™¤ã€‚

![IMG_20251123_182326_1](https://github.com/user-attachments/assets/fefeb6bf-42eb-4d98-9e5b-18cdfff1ce2c)

![Screenrecorder-2025-11-24-10-24-36-471](https://github.com/user-attachments/assets/17c7af8a-46c8-456c-a592-8e2db6a928f1)


3. æ¡Œé¢æ‚¬æµ®çª— (Floating Window)

å…¨å±€æ§åˆ¶ï¼šå¼€å¯æ‚¬æµ®çª—æœåŠ¡åï¼Œä¼šåœ¨å±å¹•è¾¹ç¼˜æ˜¾ç¤ºä¸€ä¸ªåŠé€æ˜çš„æ‚¬æµ®çƒã€‚

éšæ—¶éšåœ°ï¼šæ— è®ºä½ åœ¨ä½¿ç”¨ä»€ä¹ˆ Appï¼Œç‚¹å‡»æ‚¬æµ®çƒå³å¯ç«‹å³è§¦å‘éšæœºæ‰“å¼€åŠŸèƒ½ï¼Œæ— éœ€åˆ‡å›ä¸»ç¨‹åºã€‚

æ™ºèƒ½è´´è¾¹ï¼šæ‚¬æµ®çƒæ”¯æŒæ‹–æ‹½ç§»åŠ¨ï¼Œæ¾æ‰‹åè‡ªåŠ¨å¸é™„åˆ°å±å¹•å·¦å³è¾¹ç¼˜ï¼Œä¸é®æŒ¡è§†çº¿ã€‚

é«˜åº¦å®šåˆ¶ï¼šæ”¯æŒåœ¨è®¾ç½®ä¸­è°ƒèŠ‚æ‚¬æµ®çª—çš„å¤§å°ï¼Œç”šè‡³å¯ä»¥è®¾ç½® App å¯åŠ¨æ—¶è‡ªåŠ¨å¼€å¯æ‚¬æµ®çª—ã€‚

ğŸš€ é«˜çº§ç‰¹æ€§ (Advanced Features)

1. æ™ºèƒ½å†·å´æ¨¡å¼ (Cooldown Mode)

é˜²æ­¢é‡å¤ï¼šæ‹…å¿ƒçŸ­æ—¶é—´å†…éšæœºåˆ°åŒä¸€æœ¬æ¼«ç”»ï¼Ÿå¼€å¯å†·å´æ¨¡å¼åï¼ŒApp ä¼šè®°å½•å·²æ‰“å¼€æ–‡ä»¶å¤¹çš„æ—¶é—´æˆ³ã€‚

è‡ªå®šä¹‰æ—¶é•¿ï¼šä½ å¯ä»¥è®¾ç½®å†·å´æ—¶é—´ï¼ˆä¾‹å¦‚ 60 åˆ†é’Ÿï¼‰ï¼Œåœ¨æ­¤æœŸé—´å†…ï¼Œå·²çœ‹è¿‡çš„æ–‡ä»¶å¤¹å°†ä¸ä¼šå†æ¬¡è¢«éšæœºé€‰ä¸­ã€‚

2. æ–‡ä»¶å¤¹é»‘åå• (Folder Exclusion)

ç²¾å‡†è¿‡æ»¤ï¼šé•¿æŒ‰ä»»æ„è·¯å¾„æ ‡ç­¾ï¼Œè¿›å…¥â€œæ’é™¤å­æ–‡ä»¶å¤¹â€èœå•ã€‚

ä¿æŒæ¸…çˆ½ï¼šå‹¾é€‰ä½ ä¸å¸Œæœ›çœ‹åˆ°çš„å­æ–‡ä»¶å¤¹ï¼ˆå¦‚ Coverã€Thumbnailsã€å¹¿å‘Š ç­‰ï¼‰ï¼Œéšæœºç®—æ³•ä¼šè‡ªåŠ¨è·³è¿‡å®ƒä»¬ã€‚

3. é«˜åº¦å¯é…ç½®

æŒ‡å®šåº”ç”¨ï¼šåœ¨è®¾ç½®ä¸­ï¼Œä½ å¯ä»¥è‡ªç”±å¡«å†™å›¾ç‰‡æŸ¥çœ‹å™¨å’Œè§†é¢‘æ’­æ”¾å™¨çš„åŒ…åï¼Œè®© App èƒ½å¤Ÿè°ƒç”¨ä»»ä½•ä½ å–œæ¬¢çš„ç¬¬ä¸‰æ–¹è½¯ä»¶ã€‚

ğŸ¨ æŠ€æœ¯äº®ç‚¹ (Technical Highlights)

Material Design 3ï¼šå…¨é¢é‡‡ç”¨ Google æœ€æ–°çš„è®¾è®¡è§„èŒƒï¼Œæ”¯æŒåŠ¨æ€å–è‰²ï¼ˆDynamic Colorsï¼‰ï¼ŒUI é¢œè‰²éšæ‰‹æœºå£çº¸è‡ªåŠ¨å˜åŒ–ã€‚

Android 14+ é€‚é…ï¼šå®Œç¾æ”¯æŒæœ€æ–°çš„ Android ç³»ç»Ÿç‰¹æ€§ï¼ŒåŒ…æ‹¬é’ˆå¯¹ Android 11+ çš„åˆ†åŒºå­˜å‚¨ï¼ˆScoped Storageï¼‰é€‚é…å’Œå…¨æ–‡ä»¶è®¿é—®æƒé™ï¼ˆMANAGE_EXTERNAL_STORAGEï¼‰å¤„ç†ã€‚

Uri to Path è½¬æ¢ï¼šè§£å†³äº† Android ç³»ç»Ÿæ–‡ä»¶é€‰æ‹©å™¨ï¼ˆSAFï¼‰è¿”å›çš„è™šæ‹Ÿ URI æ— æ³•è¢«éƒ¨åˆ†è€ç‰Œé˜…è¯»å™¨ï¼ˆå¦‚ Perfect Viewerï¼‰è¯†åˆ«çš„é—®é¢˜ï¼Œè‡ªåŠ¨è½¬æ¢ä¸ºçœŸå®æ–‡ä»¶è·¯å¾„ã€‚

çº¯ Kotlin ç¼–å†™ï¼šä»£ç ç®€æ´é«˜æ•ˆï¼Œæ— åŸç”Ÿåº“ï¼ˆNo Native Librariesï¼‰ï¼Œä½“ç§¯è½»é‡ï¼Œå…¼å®¹æ€§æä½³ã€‚

English

Surprise App (Random Reader)
All code in this project was generated by Gemini 3 Pro, including this README.md (excluding this specific line). This app is intended solely for my personal use; therefore, bug fixes and new features are strictly "as fate permits"â€”as long as it works, I'm happy.

Surprise is an Android application designed specifically for comic enthusiasts and local video collectors. It aims to solve the "decision paralysis" of not knowing what to read next. Through an intelligent random algorithm, it "draws" a surprise for you from your massive local collection.

The project is developed entirely in Kotlin and adopts the latest Material You (Material 3) design language, featuring a modern, clean, and aesthetic interface.

ğŸŒŸ Core Features
1. Intelligent Random Browsing
One-Tap Random: Simply tap the button, and the App will automatically scan all subfolders within the specified root directory, randomly select one, and open the file inside.

Multi-Format Support: Intelligently recognizes and opens image files (jpg, png, webp, bmp) and video files (mp4, mkv, avi, mov).

Seamless Integration: Automatically invokes your favorite external reader (such as Perfect Viewer) or player (such as MX Player) to open files, supporting page-turning navigation (achieved via path parsing technology).

2. Convenient Path Management
Multi-Shelf Support: You can add multiple different root directories (e.g., "Completed Comics", "Ongoing", "Video Collection"), which are displayed as Chips on the home page.

Custom Aliases: Are system paths too long to remember? You can set a short alias for each folder (e.g., "My Favorites").

Flexible Editing: Long-press a tag to manage it. Supports renaming, changing the underlying path (while keeping the alias), or removing it.

3. Floating Window
Global Control: After enabling the floating window service, a semi-transparent floating ball appears on the edge of the screen.

Anytime, Anywhere: No matter what app you are using, tapping the floating ball immediately triggers the random open function without switching back to the main app.

Snap to Edge: The floating ball supports dragging and automatically snaps to the left or right edge of the screen when released, ensuring it doesn't block your view.

Highly Customizable: Supports adjusting the size of the floating window in settings, and can even be set to launch automatically when the App starts.

ğŸš€ Advanced Features
1. Cooldown Mode
Prevent Repetition: Worried about getting the same comic twice in a row? Enable Cooldown Mode, and the App will record the timestamp of opened folders.

Custom Duration: You can set a cooldown period (e.g., 60 minutes). During this time, viewed folders will not be randomly selected again.

2. Folder Exclusion (Blacklist)
Precise Filtering: Long-press any path tag to enter the "Exclude Subfolders" menu.

Keep it Clean: Check the subfolders you don't want to see (such as Cover, Thumbnails, Ads), and the random algorithm will automatically skip them.

3. Highly Configurable
Specify Apps: In the settings, you can freely enter the Package Name for your preferred image viewer and video player, allowing the App to invoke any third-party software you like.

ğŸ¨ Technical Highlights
Material Design 3: Fully adopts Google's latest design specifications, supporting Dynamic Colors where the UI color automatically adapts to your phone's wallpaper.

Android 14+ Adapted: Perfectly supports the latest Android system features, including Scoped Storage adaptation for Android 11+ and handling of All Files Access (MANAGE_EXTERNAL_STORAGE).

Uri to Path Conversion: Solves the issue where virtual URIs returned by the Android System File Picker (SAF) are not recognized by some legacy readers (like Perfect Viewer) by automatically converting them to real file paths.

Pure Kotlin: The code is concise and efficient, containing No Native Libraries, resulting in a lightweight app with excellent compatibility.

é€‚ç”¨åœºæ™¯

æ¼«ç”»å›¤ç§¯ç—‡æ‚£è€…ï¼šæ”¶è—äº†æˆåƒä¸Šä¸‡æœ¬æ¼«ç”»ï¼Œæ¯æ¬¡æ‰“å¼€é˜…è¯»å™¨éƒ½åœ¨åˆ—è¡¨é‡Œæ»‘åŠå¤©ä¸çŸ¥é“çœ‹å“ªæœ¬ã€‚

æœ¬åœ°è§†é¢‘æµè§ˆï¼šæ‹¥æœ‰å¤§é‡æœ¬åœ°çŸ­è§†é¢‘æˆ–ç•ªå‰§ï¼Œæƒ³è¦éšæœºæ’­æ”¾ä¸€é›†æ‰“å‘æ—¶é—´ã€‚

å¯»æ‰¾çµæ„Ÿï¼šè®¾è®¡å¸ˆæˆ–ç”»å¸ˆä»æœ¬åœ°ç´ æåº“ä¸­éšæœºæŠ½å–å›¾ç‰‡å¯»æ‰¾çµæ„Ÿã€‚
